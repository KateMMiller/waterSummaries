---
output: 
  html_document:
    fig_caption: yes
    css: www/webstyles.css
    anchor_sections: FALSE
    includes: 
      in_header: "header_manual.html" 
      after_body: "footer.html"
    self_contained: yes
title: "NETN water summary"
params:
  year_start: 2006 # first year of data
  year_current: 2023 # current year of data
---
# {.tabset .tabset-pills}

```{r echo = F, include = F, cache = F}
knitr::opts_chunk$set(echo = FALSE, fig.pos = "h", warning = FALSE, message = FALSE)
# Create environment for rmds to pull params from
library(tidyverse)
library(waterNETN)
library(climateNETN)
library(leaflet)
library(grid)
library(gridExtra)

yr_start <- params$year_start
yr_current <- params$year_current
yr_prev <- yr_current - 1
#park_list <- c("MIMA")

child_env <- new.env()
importData(type = "zip", filepath = "C:/NETN/R_Dev/Water/data/NETN_Water_Data_Package_20240725.zip")
#importData()
for(n in ls(VIEWS_WQ, all.names = TRUE)) assign(n, get(n, VIEWS_WQ), child_env)

child_env$yr_start <- yr_start
child_env$yr_current <- yr_current
child_env$yr_prev <- yr_prev
child_env$lnetn_list <- c("MABI", "MIMA", "MORR", "ROVA", "SAGA", "SARA", "WEFA") 
child_env$netn_list <- c("ACAD", "MABI", "MIMA", "MORR", "ROVA", "SAGA", "SARA", "WEFA")
```

```{r child = "Iterative_code_chunks.Rmd", eval = T}

```

```{r results = 'asis', include = F}
acad <- lapply(seq_along(c("ACAD")), function(x){
  child_env$park = "ACAD"
  knitr::knit_child("ACAD_summary.rmd", envir = child_env)
  #knitr::knit_child("About_tabs.Rmd", envir = child_env)
  })
```
```{r results = 'asis'}
cat(unlist(acad), sep = "\n\n")
```

```{r results = 'asis', include = F}
lnetn <- lapply(seq_along(child_env$lnetn_list), function(x){
  child_env$park = child_env$lnetn_list[[x]]
  knitr::knit_child("LNETN_park_summary.rmd", envir = child_env)
  #knitr::knit_child("About_tabs.Rmd", envir = child_env)
  
})
```
```{r results = 'asis'}
cat(unlist(lnetn), sep = "\n\n")
```

```{r child = "About_tabs.Rmd", eval = T}

```

